angular.module("App").controller("MainCtrl",["$scope","$element",function(n,t){function r(t){var r=t.file,i=new FormData;i.append("files",t.file);t.percentCompleted="0";$.ajax({url:applicationPath+"/Home/Upload",type:"POST",data:i,success:function(){n.$apply(function(){t.completed=!0})},error:function(){n.$apply(function(){t.error=!0})},xhr:function(){var i=new XMLHttpRequest;return i.upload.addEventListener("progress",function(i){if(i.lengthComputable){var r=Math.ceil(i.loaded/i.total*100);n.$apply(function(){t.percentCompleted=r})}}),i},processData:!1,contentType:!1})}function u(n){var t=this;t.name=n.name;t.size=n.size;t.percentCompleted=0;t.file=n}var i=t.find("input[type=file]");i.bind("change",function(t){console.log("change");n.safeApply(function(){for(var r,i=0;i<t.target.files.length;i++)r=t.target.files[i],n.files.push(new u(r))})});n.safeApply=function(n){var t=this.$root.$$phase;t=="$apply"||t=="$digest"?n&&typeof n=="function"&&n():this.$apply(n)};n.files=[];n.selectFiles=function(){console.log("before");i.val("");i.trigger("click");console.log("after")};n.upload=function(){for(var i,t=0;t<n.files.length;t++)(i=n.files[t],i.completed)||r(i)};n.clear=function(){n.files=[]};n.getIndicatorStyle=function(n){return{width:n.percentCompleted+"%"}}}]);
/*
//# sourceMappingURL=MainCtrl.min.js.map
*/